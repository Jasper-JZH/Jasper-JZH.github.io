<!DOCTYPE html><html lang="zh-cn" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Unity渲染层级问题 | Jasper's Blog</title><meta name="author" content="Jasper"><meta name="copyright" content="Jasper"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="前言最近做2D的游戏项目比较多，有比较多需要在UI的Canvas下渲染的交互界面，粒子特效等。为了让不同层UI和粒子特效之间有正确的遮挡关系，笔者在Sorting Layer，Order in Layer，RenderQueue这些上踩了不少坑。因此自己在Unity测试了一下后，打算整理出来，一是记录，而是分享。  注意：以下讨论仅围绕Canvas下的渲染顺序  1. 纯UI在无自定义Shader">
<meta property="og:type" content="article">
<meta property="og:title" content="Unity渲染层级问题">
<meta property="og:url" content="https://jasper-jzh.github.io/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html">
<meta property="og:site_name" content="Jasper&#39;s Blog">
<meta property="og:description" content="前言最近做2D的游戏项目比较多，有比较多需要在UI的Canvas下渲染的交互界面，粒子特效等。为了让不同层UI和粒子特效之间有正确的遮挡关系，笔者在Sorting Layer，Order in Layer，RenderQueue这些上踩了不少坑。因此自己在Unity测试了一下后，打算整理出来，一是记录，而是分享。  注意：以下讨论仅围绕Canvas下的渲染顺序  1. 纯UI在无自定义Shader">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://jasper-jzh.github.io/uploads/avatar_MaiMai.jpg">
<meta property="article:published_time" content="2024-07-16T06:32:04.000Z">
<meta property="article:modified_time" content="2025-11-14T09:04:39.018Z">
<meta property="article:author" content="Jasper">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jasper-jzh.github.io/uploads/avatar_MaiMai.jpg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Unity渲染层级问题",
  "url": "https://jasper-jzh.github.io/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html",
  "image": "https://jasper-jzh.github.io/uploads/avatar_MaiMai.jpg",
  "datePublished": "2024-07-16T06:32:04.000Z",
  "dateModified": "2025-11-14T09:04:39.018Z",
  "author": [
    {
      "@type": "Person",
      "name": "Jasper",
      "url": "https://jasper-jzh.github.io"
    }
  ]
}</script><link rel="shortcut icon" href="/uploads/avatar_MaiMai.jpg"><link rel="canonical" href="https://jasper-jzh.github.io/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=5.5.2"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":true,"highlightMacStyle":true},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Failed',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.12.0/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Unity渲染层级问题',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><meta name="generator" content="Hexo 7.2.0"></head><body><div id="web_bg" style="background-image: url(https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/leaves.png);"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/uploads/avatar_MaiMai.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(/uploads/overwatch_bg.png);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/uploads/avatar_MaiMai.jpg" alt="Logo"><span class="site-name">Jasper's Blog</span></a><a class="nav-page-title" href="/"><span class="site-name">Unity渲染层级问题</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  Back to Home</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Unity渲染层级问题</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-07-16T06:32:04.000Z" title="Created 2024-07-16 14:32:04">2024-07-16</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-11-14T09:04:39.018Z" title="Updated 2025-11-14 17:04:39">2025-11-14</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近做2D的游戏项目比较多，有比较多需要在UI的Canvas下渲染的交互界面，粒子特效等。为了让不同层UI和粒子特效之间有正确的遮挡关系，笔者在Sorting Layer，Order in Layer，RenderQueue这些上踩了不少坑。因此自己在Unity测试了一下后，打算整理出来，一是记录，而是分享。</p>
<blockquote>
<p>注意：以下讨论仅围绕Canvas下的渲染顺序</p>
</blockquote>
<h2 id="1-纯UI"><a href="#1-纯UI" class="headerlink" title="1. 纯UI"></a>1. 纯UI</h2><p>在无自定义Shader，使用Unity默认UI材质的情况下（不考虑RenderQueue）。渲染受Canvas组件中Sorting Layer和Order in Layer参数的影响。下面分几种场景情况</p>
<h3 id="1-1-同Canvas"><a href="#1-1-同Canvas" class="headerlink" title="1.1 同Canvas"></a>1.1 同Canvas</h3><p>同一Canvas下，渲染顺序受UI物体在Hierarchy的位置的影响，遵循”下压上“的原则。即在Hierarchy中靠下的物体，在渲染时会压住同一层级中上面的物体。举例如下：</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716155826.png"></p>
<p>如上，红、黄、绿、蓝共4个Image都在Canvas1下。Hierarchy中从下到上是蓝-&gt;绿-&gt;黄-&gt;红，根据“下压上”的原则，可以在Game窗口看到确实是蓝压着绿压着黄压着红（会不会写的太细了…）。</p>
<h3 id="1-2-不同Canvas"><a href="#1-2-不同Canvas" class="headerlink" title="1.2 不同Canvas"></a>1.2 不同Canvas</h3><p>涉及多个Canvas下的UI物体渲染顺序比较时，就需要考虑Sorting Layer和Order in Layer这两个参数。按笔者理解，Sorting Layer是Unity提供的用于开发者自定义渲染层。</p>
<p><strong>多Canvas时，不同Canvas的渲染先比较Sorting Layer的优先级，同一Sorting Layer的情况下再比较Order in Layer。</strong></p>
<p>Unity默认提供一个Default层，可以通过下图方式添加自定义层。</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716173420.png"></p>
<p>通过拖动目标Layer所在行就可以调节这个Sorting Layers列表中不同Layer的顺序。</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716161119.png"></p>
<p>这里的顺序就决定了Layer的优先级。类似上面的”下压上”，在Sorting Layers中，越靠下的Layer，渲染的优先级越高。如下：</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716161531.png"></p>
<p>笔者当前的Sorting Layers设置如上，此时Layer的优先级应该是Default &gt; New Layer 1。</p>
<p>回到场景中，Canvas1属于Default，</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716173918.png"></p>
<p>Canvas2属于New Layer 1</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716173946.png"></p>
<p>由于Default优先级高于New Layer 1，Canvas1的红色压着Canvas2的蓝色（尽管Canvas2的Order in Layer &#x3D; 1000 大于Canvas1，但先比较Sorting Layer）</p>
<p>接下来看如果Sorting Layer相同</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716174244.png"></p>
<p>如上Canvas3跟Canvas2的Sorting Layer一样都是New Layer 1。但Canvas2(Order in Layer &#x3D; 1000)&gt; Canvas3(Order in Layer &#x3D; 500)，所以蓝色压着绿色。</p>
<h2 id="2-粒子"><a href="#2-粒子" class="headerlink" title="2. 粒子"></a>2. 粒子</h2><p><strong>粒子虽然挂在Canvas下，但渲染顺序不受其父节点上Canvas组件的SortingLayer和OrderinLayer影响。</strong></p>
<p>粒子的渲染优先级受Particle System中Render里的Sorting Layer 和 Order In Layer控制</p>
<p><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716175223.png"></p>
<p>粒子之间的渲染优先级与纯UI相同，先比较Sorting Layer，再比较Order in Layer。但笔者自己测试观察发现，Sorting Layer 和Order in Layer 都相同时，并未发现和纯UI一样“下压上“的规则，具体规则暂时不清楚。</p>
<h2 id="3-RenderQueue"><a href="#3-RenderQueue" class="headerlink" title="3. RenderQueue"></a>3. RenderQueue</h2><p>这部分主要参考这篇博客<a target="_blank" rel="noopener" href="https://blog.csdn.net/linxinfa/article/details/105361396#:~:text=in%20Layer%E3%80%82-,%E5%9B%9B.%20Shader%E7%9A%84RenderQueue">《Shader中的RenderQueue》</a></p>
<p>RenderQueue是Shader里的渲染队列值，Unity内部对不同的RenderQueue值有明确的划分<br>    <img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240716111039.png" alt="image.png"><br>主要注意2500是一个关键划分值，在Shader中是透明跟不透明的分界点。无论SortingLayer和OrderInLayer的值，<code>RenderQueue &gt; 2500</code>的物体必定会在 <code>RenderQueue &lt;= 2500</code>的物体前面，即划分在“透明区”（&gt;2500）的肯定会压着“不透明区”（&lt;&#x3D;2500）的。</p>
<p>当物体都在同一“区”时，排序优先级为Sorting Layer &gt; Order in Layer &gt; RenderQueue</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://jasper-jzh.github.io">Jasper</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://jasper-jzh.github.io/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html">https://jasper-jzh.github.io/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles on this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless otherwise stated.</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/uploads/avatar_MaiMai.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/hello-world.html" title="Hello World"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">Previous</div><div class="info-item-2">Hello World</div></div><div class="info-2"><div class="info-item-1">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;  More info: Writing Run server1$ hexo server  More info: Server Generate static files1$ hexo generate  More info: Generating Deploy to remote sites1$ hexo deploy  More info: Deployment </div></div></div></a><a class="pagination-related" href="/PrimeTween%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" title="PrimeTween学习笔记"><img class="cover" src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240614170838.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">Next</div><div class="info-item-2">PrimeTween学习笔记</div></div><div class="info-2"><div class="info-item-1">前言之前一直用的是DoTween，在看一个DoTween的B站视频时，看到评论区有人提到了PrimeTween，且提到了“高性能”，因此就找到了Github上的仓库，被其高性能（是DoTween的几倍性能）与“0GC”吸引，于是通读了文档并简单实践了一下。下面有针对性的记录一些个人感觉印象比较深刻，以及可能比较常用的点： Tween 使用Tween.来调用Tween的静态方法以创建一个Tween动画 Tween是一个结构体，可以用变量接收并查看Tween的状态或控制其行为，例如：12345Tween m_Tween = Tween.PositionX(...);if(m_Tween.isAlive &amp;&amp; m_Tween.isPaused)&#123;	m_Tween.Stop();&#125; Tween几乎可以驱动任何Unity中元素的变化，如UI，UIToolKit，Material，Camera，Transform等 PrimeTween中不支持对Tween的正向&#x2F;逆向播放，因此如果想实现类似于窗口的弹出&#x2F;收回，UI组件的渐隐&#x2F;...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/uploads/avatar_MaiMai.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">Jasper</div><div class="author-info-description">好记性不如烂笔头</div><div class="site-data"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">3</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">3</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">1</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Jasper-JZH"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/Jasper-JZH" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:jzh.jasper@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">阿巴阿巴</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E7%BA%AFUI"><span class="toc-number">1.1.</span> <span class="toc-text">1. 纯UI</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%90%8CCanvas"><span class="toc-number">1.1.1.</span> <span class="toc-text">1.1 同Canvas</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E4%B8%8D%E5%90%8CCanvas"><span class="toc-number">1.1.2.</span> <span class="toc-text">1.2 不同Canvas</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%B2%92%E5%AD%90"><span class="toc-number">1.2.</span> <span class="toc-text">2. 粒子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-RenderQueue"><span class="toc-number">1.3.</span> <span class="toc-text">3. RenderQueue</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Posts</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/hello-world.html" title="Hello World">Hello World</a><time datetime="2025-11-14T09:04:39.018Z" title="Created 2025-11-14 17:04:39">2025-11-14</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/Unity%E6%B8%B2%E6%9F%93%E5%B1%82%E7%BA%A7%E9%97%AE%E9%A2%98.html" title="Unity渲染层级问题">Unity渲染层级问题</a><time datetime="2024-07-16T06:32:04.000Z" title="Created 2024-07-16 14:32:04">2024-07-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/PrimeTween%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" title="PrimeTween学习笔记"><img src="https://jasper-cos-1320024929.cos.ap-guangzhou.myqcloud.com/PicGo/20240614170838.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="PrimeTween学习笔记"/></a><div class="content"><a class="title" href="/PrimeTween%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html" title="PrimeTween学习笔记">PrimeTween学习笔记</a><time datetime="2024-06-14T08:17:29.000Z" title="Created 2024-06-14 16:17:29">2024-06-14</time></div></div></div></div></div></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2020 - 2025 By Jasper</span><span class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo 7.2.0</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly 5.5.2</a></span></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Reading Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Toggle Between Traditional and Simplified Chinese">简</button><button id="darkmode" type="button" title="Toggle Between Light and Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle Between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Settings"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back to Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.2"></script><script src="/js/main.js?v=5.5.2"></script><script src="/js/tw_cn.js?v=5.5.2"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@6.1.4/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const runMermaid = ele => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    ele.forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const config = mermaidSrc.dataset.config ? JSON.parse(mermaidSrc.dataset.config) : {}
      if (!config.theme) {
        config.theme = theme
      }
      const mermaidThemeConfig = `%%{init: ${JSON.stringify(config)}}%%\n`
      const mermaidID = `mermaid-${index}`
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)
      const renderMermaid = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      // mermaid v9 and v10 compatibility
      typeof renderFn === 'string' ? renderMermaid(renderFn) : renderFn.then(({ svg }) => renderMermaid(svg))
    })
  }

  const codeToMermaid = () => {
    const codeMermaidEle = document.querySelectorAll('pre > code.mermaid')
    if (codeMermaidEle.length === 0) return

    codeMermaidEle.forEach(ele => {
      const preEle = document.createElement('pre')
      preEle.className = 'mermaid-src'
      preEle.hidden = true
      preEle.textContent = ele.textContent
      const newEle = document.createElement('div')
      newEle.className = 'mermaid-wrap'
      newEle.appendChild(preEle)
      ele.parentNode.replaceWith(newEle)
    })
  }

  const loadMermaid = () => {
    if (false) codeToMermaid()
    const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
    if ($mermaid.length === 0) return

    const runMermaidFn = () => runMermaid($mermaid)
    btf.addGlobalFn('themeChange', runMermaidFn, 'mermaid')
    window.loadMermaid ? runMermaidFn() : btf.getScript('https://cdn.jsdelivr.net/npm/mermaid@11.12.1/dist/mermaid.min.js').then(runMermaidFn)
  }

  btf.addGlobalFn('encrypt', loadMermaid, 'mermaid')
  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.6/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="/"></script></div></body></html>